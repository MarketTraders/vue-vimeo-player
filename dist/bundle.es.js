import e from"@vimeo/player";import t from"object-assign";var r=0;function i(e){var t=this;this.player.on(e,(function(r){t.$emit(e,r,t.player)}))}var n=["play","pause","ended","timeupdate","progress","seeked","texttrackchange","cuechange","cuepoint","volumechange","error","loaded"],o={props:{playerHeight:{default:320},playerWidth:{default:640},options:{default:function(){return{}}},videoId:{required:!0},videoUrl:{default:void 0},loop:{default:!1},autoplay:{default:!1},controls:{default:!0}},render:function(e){return e("div",{attrs:{id:this.elementId}})},watch:{videoId:"update"},data:function(){return{elementId:"vimeo-player-"+(r+=1),player:null}},methods:{update:function(e){return this.player.loadVideo(e)},play:function(){return this.player.play()},pause:function(){return this.player.pause()},mute:function(){return this.player.setVolume(0)},unmute:function(e){return void 0===e&&(e=.5),this.player.setVolume(e)},setCurrentTime:function(e){return this.player.setCurrentTime(e)},setEvents:function(){var e=this;this.player.ready().then((function(){e.$emit("ready",e.player)})).catch((function(t){e.$emit("error",t,e.player)})),n.forEach((function(t){return i.call(e,t)}))}},mounted:function(){var r={id:this.videoId,width:this.playerWidth,height:this.playerHeight,loop:this.loop,autoplay:this.autoplay,controls:this.controls};this.videoUrl&&(r.url=this.videoUrl),this.player=new e(this.elementId,t(r,this.options)),this.setEvents()},beforeDestroy:function(){this.player.unload()}};function a(e,t){e.component("vimeo-player",o)}a.version="0.1.1","undefined"!=typeof window&&window.Vue&&window.Vue.use(a);export default a;export{o as vueVimeoPlayer};
